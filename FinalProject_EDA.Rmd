---
title: "Final Project EDA"
author: "XI KANG, MINGZE YAN"
date: "4/25/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

This is the EDA section for the Stat 301-3 final project. The goal of this project is to predict one's risk for stroke through a classification approach. 
<br>

Based on the information from the [World Health Organization (WHO)](https://dx.doi.org/10.2471/BLT.16.181636), stroke is the second leading cause of death and the third leading cause for disability. Nevertheless, effective prevention actions can be applied to reduce the fatal effects of this medical emergency and lower the risk for mortality and disability. Thus, to provide targeted support and effective prevention strategies, it is crucial to identify the risks for stroke based on common factors related to one's lifestyle or chronic health conditions. 
<br>

Thus, driven by the incentives mentioned above, our project focuses on predicting the risk for stroke based on input parameters about one's lifestyle and health status. The research question of this project is a predictive classification question. 
<br>

## Initial Overview

### Data Source

The dataset used by this project is the "Stroke Prediction Dataset" provided on [Kaggle](https://www.kaggle.com/fedesoriano/stroke-prediction-dataset). We first loaded in the raw dataset and cleaned the names.  The initial data tidying process it completed in the FinalProject_tidy_data.r file. The code used is presented below:
```{r}
## Load raw dataset ----
stroke_dat <- 
  read_csv("data/unprocessed/healthcare-dataset-stroke-data.csv") %>% 
  clean_names() %>% 
  mutate(
    gender = factor(gender), 
    ever_married = factor(ever_married),
    work_type = factor(work_type),
    residence_type = factor(residence_type),
    smoking_status = factor(smoking_status),
    stroke = factor(stroke, levels = c(1, 0), 
                    labels = c("Yes", "No")),
    hypertension = factor(hypertension, levels = c(1, 0), 
                          labels = c("Yes", "No")), 
    heart_disease = factor(heart_disease, levels = c(1, 0), 
                           labels = c("Yes", "No")), 
    bmi = as.numeric(bmi)
  ) %>% 
  select(-id)

## initial skimming ----
skim_without_charts(stroke_dat)

## save processed data ----
stroke_dat %>% 
  write_rds("data/processed/stroke_data.rds")
```
<br>

### Dataset Overview

Using methods from `skimr`, we noticed that the original dataset contains 5110 rows and 12 columns. For the convenience of the later processes, we first turned the categorical variables `gender`, `ever_married`, `work_type`, `residence_type`, and `smoking_status` into factors. The outcome variable `stroke` and variables `hypertension` and `heart_disease` were initially identified as numeric variables, but they should be categorical. Thus, we turned them into a factors. Since `id` will not be used as a categorical variable, we removed it from the original dataset. 
<br>

After initial tidying, we loaded in the processed data performed a train-test split, stratified by the outcome variable `stroke`. We used 70% of the data for training and 30% for testing: 
```{r}

```


<<<<<<< HEAD
### Missing Data

=======
Also, for the convenience of the later processes, we first turned the categorical variables `gender`, `ever_married`, `work_type`, `residence_type`, and `smoking_status` into factors. The outcome variable `stroke` and variables `hypertension` and `heart_disease` were initially identified as numeric variables, but they should be categorical. Thus, we turned them into a factors. Since `id` will not be used as a categorical variable, we removed it from the original dataset. 
Then, we graph relationships between response variables and outcome variable and relationships among some selected response variables. The findings are summarized below.
>>>>>>> 1ac5ea277bf6765c5cf3dd70b53153ad55cae465
## Essential Findings

### Outcome Variable

## Secondary Findings

## Conclusion and Implications